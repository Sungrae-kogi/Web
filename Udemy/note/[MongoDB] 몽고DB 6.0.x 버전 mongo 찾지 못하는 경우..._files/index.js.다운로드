var pt=Object.defineProperty;var mt=(t,e,r)=>e in t?pt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var i=(t,e,r)=>(mt(t,typeof e!="symbol"?e+"":e,r),r);function ze(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}class A{constructor(e){i(this,"newInstance",()=>(window.TiaraTracker.initTracker(),window.TiaraTracker.getInstance()));i(this,"setCustomProps",e=>(this.TiaraInstance.customProps(e),this.customProps=e,this));i(this,"setSection",e=>(this.TiaraInstance.setSection(e),this.section=e,this));i(this,"setPage",e=>(this.TiaraInstance.setPage(e),this.page=e,this));i(this,"setUrl",e=>(this.TiaraInstance.setUrl(e),this.url=e,this));i(this,"setReferrer",e=>(this.TiaraInstance.setReferrer(e),this.referrer=e,this));i(this,"setPageMeta",e=>(this.TiaraInstance.pageMeta(e),this.pageMeta=e,this));i(this,"setTitle",e=>(this.TiaraInstance.setTitle(e),this.title=e,this));i(this,"setKakaoAppKey",e=>(this.TiaraInstance.setKakaoAppKey(e),this.kakaoAppKey=e,this));i(this,"setAppUserId",e=>(this.TiaraInstance.setAppUserId(e),this.appUserId=e,this));i(this,"start",e=>(this.TiaraInstance.trackPage(e),this.TiaraInstance.track(),this));this.TiaraInstance=this.newInstance(),this.svcDomain=e,this.TiaraInstance.init({svcDomain:e,adTrackId:!1,enableAlwaysHttpPost:!1,disableSendLegacy:!0,enableHash:!0,disableQuery:!1,trackDomain:"",deployment:"production",autoClick:!1,kakaoAppKey:"",appUserId:""})}}class vt{constructor(){i(this,"get",()=>this.value);i(this,"setId",e=>(this.value.id=e,this));i(this,"setType",e=>(this.value.type=e,this));i(this,"setName",e=>(this.value.name=e,this));i(this,"setCategory",e=>(this.value.category=e,this));i(this,"setCategoryId",e=>(this.value.category_id=e,this));i(this,"setAuthor",e=>(this.value.author=e,this));i(this,"setAuthorId",e=>(this.value.author_id=e,this));i(this,"setImage",e=>(this.value.image=e,this));i(this,"setPlink",e=>(this.value.plink=e,this));i(this,"setTags",e=>(e&&Array.isArray(e)&&(this.value.tags=e.join(",")),this));i(this,"getValue",()=>this.value);this.value={}}}class yt{constructor(){i(this,"getMetaByData",()=>{const e=new vt;return e.setId(this.key).setName(this.key).setType("blogIdOrEntryId"),this.hasEntry&&e.setCategory(this.entry.categoryName).setCategoryId(this.entry.categoryId).setAuthor(this.entry.author).setAuthorId(this.entry.author).setPlink(this.entry.plink).setImage(this.entry.image).setTags(this.entry.tags),e.getValue()});const{tiara:e}=window;this.svcDomain=e.svcDomain,this.section=e.section,this.page=e.page,this.trackPage=e.trackPage,this.customProps=e.customProps,this.entry=e.entry,this.kakaoAppKey=e.kakaoAppKey,this.appUserId=e.appUserId,this.key=e.key,this.hasEntry=!!(Object.prototype.hasOwnProperty.call(e,"entry")&&e.entry),this.meta=this.getMetaByData()}}const dt=(t,e)=>Object.keys(t).every(r=>e.includes(r));function wt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tt={exports:{}},et={exports:{}},It=void 0,rt=function(t){return t!==It&&t!==null},St=rt,kt={object:!0,function:!0,undefined:!0},$t=function(t){return St(t)?hasOwnProperty.call(kt,typeof t):!1},bt=$t,Tt=function(t){if(!bt(t))return!1;try{return t.constructor?t.constructor.prototype===t:!1}catch(e){return!1}},Pt=Tt,Dt=function(t){if(typeof t!="function"||!hasOwnProperty.call(t,"length"))return!1;try{if(typeof t.length!="number"||typeof t.call!="function"||typeof t.apply!="function")return!1}catch(e){return!1}return!Pt(t)},Ot=Dt,Mt=/^\s*class[\s{/}]/,_t=Function.prototype.toString,jt=function(t){return!(!Ot(t)||Mt.test(_t.call(t)))},Et=function(){var t=Object.assign,e;return typeof t!="function"?!1:(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")},T,K;function At(){return K||(K=1,T=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}),T}var xt=function(){},Ct=xt(),k=function(t){return t!==Ct&&t!==null},P,q;function Ut(){if(q)return P;q=1;var t=k,e=Object.keys;return P=function(r){return e(t(r)?Object(r):r)},P}var D,F;function Kt(){return F||(F=1,D=At()()?Object.keys:Ut()),D}var qt=k,$=function(t){if(!qt(t))throw new TypeError("Cannot use null or undefined");return t},O,N;function Ft(){if(N)return O;N=1;var t=Kt(),e=$,r=Math.max;return O=function(n,s){var u,c,g=r(arguments.length,2),C;for(n=Object(e(n)),C=function(U){try{n[U]=s[U]}catch(gt){u||(u=gt)}},c=1;c<g;++c)s=arguments[c],t(s).forEach(C);if(u!==void 0)throw u;return n},O}var Nt=Et()?Object.assign:Ft(),Rt=k,Vt=Array.prototype.forEach,Lt=Object.create,zt=function(t,e){var r;for(r in t)e[r]=t[r]},Ht=function(t){var e=Lt(null);return Vt.call(arguments,function(r){Rt(r)&&zt(Object(r),e)}),e},M="razdwatrzy",Yt=function(){return typeof M.contains!="function"?!1:M.contains("dwa")===!0&&M.contains("foo")===!1},_,R;function Bt(){if(R)return _;R=1;var t=String.prototype.indexOf;return _=function(e){return t.call(this,e,arguments[1])>-1},_}var Qt=Yt()?String.prototype.contains:Bt(),I=rt,V=jt,nt=Nt,it=Ht,v=Qt,Gt=et.exports=function(t,e){var r,n,s,u,c;return arguments.length<2||typeof t!="string"?(u=e,e=t,t=null):u=arguments[2],I(t)?(r=v.call(t,"c"),n=v.call(t,"e"),s=v.call(t,"w")):(r=s=!0,n=!1),c={value:e,configurable:r,enumerable:n,writable:s},u?nt(it(u),c):c};Gt.gs=function(t,e,r){var n,s,u,c;return typeof t!="string"?(u=r,r=e,e=t,t=null):u=arguments[3],I(e)?V(e)?I(r)?V(r)||(u=r,r=void 0):r=void 0:(u=e,e=r=void 0):e=void 0,I(t)?(n=v.call(t,"c"),s=v.call(t,"e")):(n=!0,s=!1),c={get:e,set:r,configurable:n,enumerable:s},u?nt(it(u),c):c};var Jt=et.exports,Wt=function(){var t=Math.sign;return typeof t!="function"?!1:t(10)===1&&t(-20)===-1},j,L;function Xt(){return L||(L=1,j=function(t){return t=Number(t),isNaN(t)||t===0?t:t>0?1:-1}),j}var Zt=Wt()?Math.sign:Xt(),te=Zt,ee=Math.abs,re=Math.floor,b=function(t){return isNaN(t)?0:(t=Number(t),t===0||!isFinite(t)?t:te(t)*re(ee(t)))},z="foo",ne=function(){return typeof z.repeat!="function"?!1:z.repeat(2)==="foofoo"},E,H;function ie(){if(H)return E;H=1;var t=$,e=b;return E=function(r){var n=String(t(this)),s;if(r=e(r),r<0)throw new RangeError("Count must be >= 0");if(!isFinite(r))throw new RangeError("Count must be < âˆž");for(s="";r;)r%2&&(s+=n),r>1&&(n+=n),r>>=1;return s},E}var ae=ne()?String.prototype.repeat:ie(),se=b,oe=$,ue=ae,ce=Math.abs,fe=Math.max,le=function(t){var e=String(oe(this)),r=e.length,n=arguments[1];return n=isNaN(n)?1:se(n),t=ue.call(String(t),ce(n)),n>=0?t.slice(0,fe(0,n-r))+e:e+(r+n>=0?"":t.slice(n+r))},he=b,ge=Math.max,at=function(t){return ge(0,he(t))},pe=le,Y=at,me=Number.prototype.toFixed,ve=function(t){var e;return t=Y(t),e=Y(arguments[1]),pe.call(e?me.call(this,e):this,"0",t+(e?1+e:0))},st=Object.prototype.toString,ye=st.call(new Date),de=function(t){return t&&!isNaN(t)&&(t instanceof Date||st.call(t)===ye)||!1},we=de,Ie=function(t){if(!we(t))throw new TypeError(t+" is not valid Date object");return t},Se=Date.prototype.getMonth,ke=function(){switch(Se.call(this)){case 1:return this.getFullYear()%4?28:29;case 3:case 5:case 8:case 10:return 30;default:return 31}},$e=Date.prototype.getTime,be=function(){return new Date($e.call(this))},Te=Date.prototype.setHours,ot=function(){return Te.call(this,0,0,0,0),this},Pe=ot,ut=function(){return Pe.call(this).setDate(1),this},De=ut,Oe=function(){return De.call(this).setMonth(0),this},Me=function(t){return typeof t=="function"},_e=Me,B=$,je=Function.prototype.call,Ee=function(t){return t=Object(B(t)),function(e){var r=this;return B(r),e=String(e),e.replace(/%([a-zA-Z]+)|\\([\u0000-\uffff])/g,function(n,s,u){var c,g;if(u)return u;for(c=s;c&&!(g=t[c]);)c=c.slice(0,-1);return g?(_e(g)&&(g=je.call(g,r)),g+s.slice(c.length)):n})}},o=Jt,h=ve,Q=Ie,Ae=ke,p=be,G=ot,y=ut,J=Oe,d=b,xe=at,ct=k,a=Math.abs,ft,W,X,S,m;ft=Ee({y:function(){return String(a(this.year))},m:function(){return h.call(a(this.month),2)},d:function(){return h.call(a(this.day),2)},H:function(){return h.call(a(this.hour),2)},M:function(){return h.call(a(this.minute),2)},S:function(){return h.call(a(this.second),2)},L:function(){return h.call(a(this.millisecond),3)},ms:function(){return String(a(this.months))},ds:function(){return String(a(this.days))},Hs:function(){return String(a(this.hours))},Ms:function(){return String(a(this.minutes))},Ss:function(){return String(a(this.seconds))},Ls:function(){return String(a(this.milliseconds))},sign:function(){return this.to<this.from?"-":""}});m=function(t){return t.to<t.from?{to:t.from,from:t.to,sign:-1}:{to:t.to,from:t.from,sign:1}};S=tt.exports=function(t,e){if(!(this instanceof S))return new S(t,e);this.from=Q(t),this.to=ct(e)?Q(e):new Date};S.prototype=Object.create(Object.prototype,{valueOf:o(W=function(){return this.to-this.from}),millisecond:o.gs(function(){return this.milliseconds%1e3}),second:o.gs(function(){return this.seconds%60}),minute:o.gs(function(){return this.minutes%60}),hour:o.gs(function(){return this.hours%24}),day:o.gs(function(){var t=m(this),e=t.to.getDate(),r=t.from.getDate(),n=t.to-G.call(p.call(t.to))>=t.from-G.call(p.call(t.from)),s;return e>r?(s=e-r,n||--s,t.sign*s):e===r&&n?0:(s=n?e:e-1,s+=Ae.call(t.from)-t.from.getDate(),t.sign*s)}),month:o.gs(function(){var t=m(this);return t.sign*((12-t.from.getMonth()+t.to.getMonth())%12-(t.from-y.call(p.call(t.from))>t.to-y.call(p.call(t.to))))}),year:o.gs(X=function(){var t=m(this);return t.sign*(t.to.getFullYear()-t.from.getFullYear()-(t.from-J.call(p.call(t.from))>t.to-J.call(p.call(t.to))))}),milliseconds:o.gs(W,null),seconds:o.gs(function(){return d(this.valueOf()/1e3)}),minutes:o.gs(function(){return d(this.valueOf()/(1e3*60))}),hours:o.gs(function(){return d(this.valueOf()/(1e3*60*60))}),days:o.gs(function(){return d(this.valueOf()/(1e3*60*60*24))}),months:o.gs(function(){var t=m(this);return t.sign*((t.to.getFullYear()-t.from.getFullYear())*12+t.to.getMonth()-t.from.getMonth()-(t.from-y.call(p.call(t.from))>t.to-y.call(p.call(t.to))))}),years:o.gs(X),_resolveSign:o(function(t){return t&&this.to<this.from?"-":""}),_toStringDefaultDate:o(function(t,e,r){return!this.days&&t<0?this._resolveSign(r)+e:(t--<=0&&(e=a(r=this.day)+"d"+(e?" ":"")+e),!this.months&&t<0?this._resolveSign(r)+e:(t--<=0&&(e=a(r=this.month)+"m"+(e?" ":"")+e),(this.years||t>=0)&&(e=a(r=this.year)+"y"+(e?" ":"")+e),this._resolveSign(r)+e))}),_toStringDefault:o(function(t){var e="",r;return t--<=0&&(e+="."+h.call(a(r=this.millisecond),3)),!this.seconds&&t<0?this._resolveSign(r)+e:(t--<=0&&(r=this.second,e=(this.minutes?h.call(a(r),2):a(r))+e),!this.minutes&&t<0?this._resolveSign(r)+e:(t--<=0&&(r=this.minute,e=(this.hours||e?h.call(a(r),2):a(r))+(e?":":"")+e),!this.hours&&t<0?this._resolveSign(r)+e:(t--<=0&&(e=h.call(a(r=this.hour),2)+(e?":":"")+e),this._toStringDefaultDate(t,e,r))))}),_toString1:o(function(t){var e=[],r;return t--<=0&&e.unshift(a(r=this.millisecond)+"ms"),!this.seconds&&t<0?this._resolveSign(r)+e.join(" "):(t--<=0&&e.unshift(a(r=this.second)+"s"),!this.minutes&&t<0?this._resolveSign(r)+e.join(" "):(t--<=0&&e.unshift(a(r=this.minute)+"m"),!this.hours&&t<0?this._resolveSign(r)+e.join(" "):(t--<=0&&e.unshift(a(r=this.hour)+"h"),!this.days&&t<0?this._resolveSign(r)+e.join(" "):(t--<=0&&e.unshift(a(r=this.day)+"d"),!this.months&&t<0?this._resolveSign(r)+e.join(" "):(t--<=0&&e.unshift(a(r=this.month)+"m"),!this.years&&t<0?this._resolveSign(r)+e.join(" "):(e.unshift(a(r=this.year)+"y"),this._resolveSign(r)+e.join(" ")))))))}),toString:o(function(t){var e;return ct(t)||(t=0),isNaN(t)?ft.call(this,t):(t=Number(t),e=xe(arguments[1]),t===1?this._toString1(e):this._toStringDefault(e))})});var Ce=tt.exports;const Ue=wt(Ce);class Ke extends A{constructor(r){super(r);i(this,"setEventMeta",r=>(this.TiaraInstance.eventMeta(r),this.eventMeta=r,this));i(this,"setTrackEvent",r=>(this.TiaraInstance.trackEvent(r),this.trackEvent=r,this));i(this,"setActionKind",r=>(this.TiaraInstance.actionKind(r),this.actionKind=r,this));i(this,"setAutoClick",()=>(this.TiaraInstance.setAutoClick(!0),this.autoClick=!0,this));i(this,"start",()=>{this.TiaraInstance.track()})}}class qe extends A{constructor(r){super(r);i(this,"setUsage",r=>(this.TiaraInstance.usage(r),this));i(this,"start",()=>{this.TiaraInstance.trackUsage().track()})}}let l,Z,w,f,x;function Fe(){x=new Date,f=new yt,Ne(),Re(),window.addEventListener("changeStateEvent",ht)}function Ne(){l=new A(f.svcDomain),!Object.prototype.hasOwnProperty.call(f,"page")||!f.page?f.page="default":f.page=f.page.replace("/","_"),l.setSection(f.section).setPage(f.page||"default").setCustomProps(f.customProps).setPageMeta(f.meta).setTitle(document.title).setKakaoAppKey(f.kakaoAppKey).setAppUserId(f.appUserId).start(f.trackPage)}function Re(){Z=new Ke(f.svcDomain),Z.setSection(f.section).setPage("default").setTrackEvent("default").setCustomProps(l.customProps).setPageMeta(l.meta).setAutoClick()}function lt(){if(!l)return;const t=new Ue(x,new Date).milliseconds;w=new qe(f.svcDomain),w.setSection(l.section).setPage(l.page).setCustomProps(l.customProps).setPageMeta(l.pageMeta).setReferrer(l.referrer).setUsage({duration:t,scroll_top:window.scrollY,scroll_inner_height:window.innerHeight}),l.url&&w.setUrl(l.url),w.start()}function ht(t){if(t.detail&&dt(t.detail,["url","prevLocation","currentLocation"])){x=new Date;const{url:e,prevLocation:r,currentLocation:n}=t.detail;r&&Object.prototype.hasOwnProperty.call(r,"pathname")&&l.setReferrer("".concat(e).concat(r.pathname)),n&&Object.prototype.hasOwnProperty.call(n,"pathname")&&l.setPage(n.pathname.replace("/","")).setUrl("".concat(e).concat(n.pathname)),l.start(f.trackPage),lt()}}function Ve(){lt(),window.removeEventListener("changeStateEvent",ht)}window.addEventListener("load",Fe);window.addEventListener("beforeunload",Ve);export{ze as __vite_legacy_guard};
